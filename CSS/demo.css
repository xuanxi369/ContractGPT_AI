 /* =========================================
   1. CORE SETTINGS (核心设定)
   ========================================= */
:root {
  --bg-dark: #050505;
  --text-main: #f0f0f0;
  --text-muted: rgba(255, 255, 255, 0.5);
  --glass-bg: rgba(255, 255, 255, 0.03);
  --glass-border: rgba(255, 255, 255, 0.1);
  --accent: #d4af37; /* 香槟金 */
  --danger: #ff4b4b;
  --font-serif: 'Playfair Display', serif;
  --font-sans: 'Inter', sans-serif;
}

* { box-sizing: border-box; margin: 0; padding: 0; outline: none; }

body {
  font-family: var(--font-sans);
  background-color: var(--bg-dark);
  color: var(--text-main);
  line-height: 1.6;
  min-height: 100vh;
  overflow-x: hidden;
}

/* =========================================
   2. ATMOSPHERE (背景氛围)
   ========================================= */
.atmosphere {
  position: fixed; inset: 0; z-index: -1; pointer-events: none;
}
.aurora {
  position: absolute; border-radius: 50%; filter: blur(120px); opacity: 0.4;
  animation: drift 20s infinite ease-in-out alternate;
}
.aurora.one { top: -20%; left: -20%; width: 60vw; height: 60vw; background: radial-gradient(circle, #1a2a6c, transparent 60%); }
.aurora.two { bottom: -20%; right: -20%; width: 70vw; height: 70vw; background: radial-gradient(circle, #2a1f6d, transparent 60%); animation-delay: -5s; }
.grain {
  position: fixed; inset: 0; opacity: 0.05;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
}

@keyframes drift {
  0% { transform: translate(0, 0); }
  100% { transform: translate(30px, 50px); }
}

/* =========================================
   3. LAYOUT & HEADER
   ========================================= */
.app-container {
  max-width: 1200px; margin: 0 auto; padding: 20px;
}

.top-nav {
  display: flex; justify-content: space-between; align-items: flex-end;
  margin-bottom: 60px; padding-bottom: 20px;
  border-bottom: 1px solid var(--glass-border);
}

.brand {
  font-family: var(--font-serif); font-size: 2rem;
  background: linear-gradient(to right, #fff, #999); -webkit-background-clip: text; color: transparent;
}
.brand em { font-style: italic; font-weight: 300; color: var(--accent); }

.status-indicator {
  font-family: var(--font-sans); font-size: 0.85rem; color: var(--accent); letter-spacing: 1px;
  text-transform: uppercase;
}

/* =========================================
   4. DASHBOARD PANELS (通用面板)
   ========================================= */
.dashboard-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 40px;
  margin-bottom: 60px;
}

.panel {
  display: flex; flex-direction: column;
}
.panel.full-width { grid-column: span 2; margin-top: 20px; }

.panel-header { margin-bottom: 25px; }
.panel-subtitle {
  display: block; font-size: 0.7rem; letter-spacing: 0.2em; color: var(--text-muted); margin-bottom: 5px;
}
.panel h2 {
  font-family: var(--font-serif); font-size: 2rem; font-weight: 400; color: #fff; margin: 0;
}

.hint-text {
  margin-top: 10px; font-size: 0.8rem; color: var(--text-muted); font-style: italic;
}

/* =========================================
   5. UPLOAD ZONE (上传区)
   ========================================= */
.upload-zone {
  position: relative;
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-radius: 4px;
  height: 250px;
  display: flex; justify-content: center; align-items: center;
  transition: 0.3s;
  overflow: hidden;
}
.upload-zone:hover { border-color: var(--accent); background: rgba(255,255,255,0.05); }

/* 原生Input完全透明覆盖 */
#file-input {
  position: absolute; width: 100%; height: 100%; opacity: 0; cursor: pointer; z-index: 2;
}

.upload-content { text-align: center; pointer-events: none; }
.upload-icon { font-size: 2rem; margin-bottom: 10px; filter: grayscale(1); opacity: 0.7; }
.upload-title { font-size: 1.1rem; color: #fff; margin-bottom: 5px; }
.upload-desc { font-size: 0.85rem; color: var(--text-muted); }

/* =========================================
   6. PREVIEW ZONE (预览区)
   ========================================= */
.document-container {
  position: relative;
}

.paper-view {
  background: rgba(255,255,255,0.08); /* 轻微提亮 */
  padding: 30px;
  border-radius: 2px;
  font-family: 'Courier New', monospace; /* 打字机风格 */
  font-size: 0.9rem;
  line-height: 1.8;
  color: #ddd;
  min-height: 250px;
  max-height: 250px;
  overflow-y: auto;
  border-left: 2px solid var(--accent); /* 金色左边框装饰 */
  transition: max-height 0.5s ease;
  white-space: pre-wrap;
}

.empty-state {
  height: 100%; display: flex; align-items: center; justify-content: center;
  color: var(--text-muted); font-family: var(--font-sans); letter-spacing: 1px;
}

.action-btn {
  margin-top: 15px;
  background: transparent; border: 1px solid var(--glass-border);
  color: #fff; padding: 8px 20px; font-size: 0.8rem; cursor: pointer;
  letter-spacing: 1px; text-transform: uppercase; transition: 0.3s;
}
.action-btn:hover { border-color: var(--accent); color: var(--accent); }

/* =========================================
   7. RISK SECTION (风险列表)
   ========================================= */
.risk-grid {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;
}

/* JS 生成的 .risk-box 样式覆盖 */
.risk-box, .risk-default, .no-risk {
  background: linear-gradient(180deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
  border: 1px solid var(--glass-border);
  padding: 20px;
  position: relative;
  transition: transform 0.3s;
}
.risk-box:hover { transform: translateY(-3px); border-color: rgba(255,255,255,0.2); }

/* 风险条目标记 */
.risk-box ul { list-style: none; padding: 0; }
.risk-box li {
  margin-bottom: 10px; font-size: 0.9rem; color: #ddd;
  padding-left: 20px; position: relative;
}
.risk-box li::before {
  content: '⚠️'; position: absolute; left: 0; top: 1px; font-size: 0.8rem; filter: sepia(1);
}

.risk-default { border-left: 3px solid var(--glass-border); display: flex; gap: 15px; align-items: flex-start; }
.risk-icon { font-size: 1.5rem; filter: grayscale(1); }
.risk-info strong { color: var(--accent); display: block; margin-bottom: 5px; font-family: var(--font-serif); }

/* =========================================
   8. CHAT SECTION (AI 对话)
   ========================================= */
.chat-viewport {
  background: rgba(0,0,0,0.2);
  border: 1px solid var(--glass-border);
  height: 400px;
  overflow-y: auto;
  padding: 20px;
  margin-bottom: 20px;
  display: flex; flex-direction: column; gap: 15px;
}

/* 聊天气泡 */
#chat-log p, .ai-response p {
  max-width: 80%; padding: 12px 18px; border-radius: 4px; font-size: 0.95rem;
  line-height: 1.5; margin: 0;
}

/* 用户气泡 */
#chat-log p:not(.ai-response p) {
  align-self: flex-end;
  background: var(--text-main); color: #000;
  border-bottom-right-radius: 0;
}

/* AI 气泡 */
.ai-response { align-self: flex-start; width: 100%; }
.ai-response p {
  background: rgba(255,255,255,0.08); color: #ddd;
  border-left: 2px solid var(--accent);
  border-bottom-left-radius: 0;
}

/* 输入区域 - 极简线条风 */
.chat-input-area {
  display: flex; gap: 20px; align-items: flex-end; position: relative;
}

#chat-input {
  flex: 1;
  background: transparent;
  border: none;
  border-bottom: 1px solid var(--glass-border);
  padding: 15px 0;
  color: #fff;
  font-size: 1rem;
  transition: 0.3s;
}
#chat-input:focus { border-bottom-color: var(--accent); }
#chat-input::placeholder { color: rgba(255,255,255,0.2); }

.send-btn {
  background: transparent;
  color: var(--accent);
  border: 1px solid var(--accent);
  padding: 10px 30px;
  font-family: var(--font-sans);
  text-transform: uppercase;
  font-size: 0.8rem;
  letter-spacing: 1px;
  cursor: pointer;
  transition: 0.3s;
}
.send-btn:hover { background: var(--accent); color: #000; }

/* =========================================
   9. FOOTER & MISC
   ========================================= */
.minimal-footer {
  text-align: center; margin-top: 60px; padding-top: 20px;
  border-top: 1px solid var(--glass-border);
  font-size: 0.75rem; color: var(--text-muted);
}
.minimal-footer a { color: inherit; text-decoration: none; border-bottom: 1px dotted var(--text-muted); }

/* 滚动条美化 */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--accent); }

/* 高亮样式 (JS生成) */
mark { background: rgba(212, 175, 55, 0.3); color: #fff; padding: 0 2px; }

/* 移动端适配 */
@media (max-width: 768px) {
  .dashboard-grid { grid-template-columns: 1fr; gap: 30px; }
  .panel.full-width { grid-column: span 1; }
  .brand { font-size: 1.5rem; }
  .top-nav { flex-direction: column; align-items: center; gap: 10px; }
}
